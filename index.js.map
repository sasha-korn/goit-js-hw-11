{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// creating layout of cards\n\nexport const createImageTemplate = imageEl => {\n  return `\n  <li class=\"wraper\">\n      <a href=\"${imageEl.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${imageEl.previewURL}\"\n  alt=\"${imageEl.tags}\"\ntitle=\"${imageEl.tags}\"\n        />\n      </a>\n\n      <ul class=\"info\">\n        <li class=\"info-el\">\n          <span class=\"title\">Likes</span>\n          <span class=\"value\">${imageEl.likes}</span>\n        </li>\n        <li class=\"info-el\">\n          <span class=\"title\">Views</span>\n          <span class=\"value\">${imageEl.views}</span>\n        </li>\n        <li class=\"info-el\">\n          <span class=\"title\">Comments</span>\n          <span class=\"value\">${imageEl.comments}</span>\n        </li>\n        <li class=\"info-el\">\n          <span class=\"title\">Downloads</span>\n          <span class=\"value\">${imageEl.downloads}</span>\n        </li>\n      </ul>\n\n      </li>\n  `;\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Described in the documentation\nimport SimpleLightbox from 'simplelightbox';\n// Additional import of styles\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createImageTemplate } from './render-functions';\n\nconst galleryWrapper = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst gallery = new SimpleLightbox('.gallery a', { captionDelay: 250 });\n\nexport function searchImg(query) {\n  loader.style.display = 'inline';\n  fetch(\n    `https://pixabay.com/api/?key=45750701-ca468da961c367d7a246db4b7&q=${encodeURIComponent(\n      query\n    )}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        showNotification('something went wrong, bitch, try again');\n      }\n\n      return response.json();\n    })\n    .then(images => {\n      console.log(images);\n      if (images.total == 0) {\n        showNotification(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n      const imageTemplate = images.hits\n        .map(imageInfo => createImageTemplate(imageInfo))\n        .join('');\n      galleryWrapper.innerHTML = imageTemplate;\n      gallery.refresh();\n    })\n    .catch(err => {\n      console.log(err);\n      showNotification('something went wrong, try again');\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\n\nfunction showNotification(msg) {\n  iziToast.show({\n    message: msg,\n    position: 'topRight',\n    progressBar: false,\n    theme: 'dark',\n    backgroundColor: 'red',\n  });\n}\n","import { searchImg } from './js/pixabay-api';\n\nlet btn = document.querySelector('[type=\"submit\"]');\nlet inp = document.querySelector('[type=\"text\"]');\n\ninp.addEventListener('keyup', onKeyUp);\n\nfunction onKeyUp(event) {\n  const searchInput = event.target.value;\n  if (searchInput == '' || searchInput == ' ') {\n    btn.disabled = true;\n    return;\n  }\n  btn.disabled = false;\n}\n\nbtn.addEventListener('click', onClick);\n\nfunction onClick(event) {\n  event.preventDefault();\n  searchImg(inp.value);\n}\n"],"names":["createImageTemplate","imageEl","galleryWrapper","loader","gallery","SimpleLightbox","searchImg","query","response","showNotification","images","imageTemplate","imageInfo","err","msg","iziToast","btn","inp","onKeyUp","event","searchInput","onClick"],"mappings":"6vBAEO,MAAMA,EAAsBC,GAC1B;AAAA;AAAA,iBAEQA,EAAQ,aAAa;AAAA;AAAA;AAAA,iBAGrBA,EAAQ,UAAU;AAAA,SAC1BA,EAAQ,IAAI;AAAA,SACZA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAOWA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,ICnB3CC,EAAiB,SAAS,cAAc,UAAU,EAClDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,IAAIC,EAAe,aAAc,CAAE,aAAc,GAAG,CAAE,EAE/D,SAASC,EAAUC,EAAO,CAC/BJ,EAAO,MAAM,QAAU,SACvB,MACE,qEAAqE,mBACnEI,CACD,CAAA,0DACF,EACE,KAAKC,IACCA,EAAS,IACZC,EAAiB,wCAAwC,EAGpDD,EAAS,OACjB,EACA,KAAKE,GAAU,CAEd,GADA,QAAQ,IAAIA,CAAM,EACdA,EAAO,OAAS,EAAG,CACrBD,EACE,0EACV,EACQ,MACD,CACD,MAAME,EAAgBD,EAAO,KAC1B,IAAIE,GAAaZ,EAAoBY,CAAS,CAAC,EAC/C,KAAK,EAAE,EACVV,EAAe,UAAYS,EAC3BP,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMS,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfJ,EAAiB,iCAAiC,CACxD,CAAK,EACA,QAAQ,IAAM,CACbN,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAEA,SAASM,EAAiBK,EAAK,CAC7BC,EAAS,KAAK,CACZ,QAASD,EACT,SAAU,WACV,YAAa,GACb,MAAO,OACP,gBAAiB,KACrB,CAAG,CACH,CC1DA,IAAIE,EAAM,SAAS,cAAc,iBAAiB,EAC9CC,EAAM,SAAS,cAAc,eAAe,EAEhDA,EAAI,iBAAiB,QAASC,CAAO,EAErC,SAASA,EAAQC,EAAO,CACtB,MAAMC,EAAcD,EAAM,OAAO,MACjC,GAAIC,GAAe,IAAMA,GAAe,IAAK,CAC3CJ,EAAI,SAAW,GACf,MACD,CACDA,EAAI,SAAW,EACjB,CAEAA,EAAI,iBAAiB,QAASK,CAAO,EAErC,SAASA,EAAQF,EAAO,CACtBA,EAAM,eAAc,EACpBb,EAAUW,EAAI,KAAK,CACrB"}